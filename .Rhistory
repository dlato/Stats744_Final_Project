in_dir = dir("./data/", pattern="_selection_data.csv")
system(paste("wc -l ",in_dir[[1]])) #do word count for first file in directory
all_data <- lapply(in_dir, function(x) read.table(x, header=T, sep = "", nrows=5077)) #deals with importing all the data. it will go and list all the files and then it will go through each of them
all_data <- lapply(in_dir, function(x) read.table(x, header=T, sep = "", nrows=127)) #deals with importing all the data. it will go and list all the files and then it will go through each of them
# Load in data
file_list <- list.files("./data/", pattern = "*_selection_data.csv")
length(file_list)
names(file_list)
class(file_list)
names(file_list)
all_data <- do.call(rbind, lapply(file_list, read.csv))
# Load in data
file_list <- list.files(pattern = "./data/*_selection_data.csv")
# Load in data
file_list <- list.files("./data/", pattern = "./data/*_selection_data.csv")
length(file_list)
file_list
# Load in data
file_list <- list.files("./data/", pattern = "./data/*_selection_data.csv")
# Load in data
file_list <- list.files("./data/", pattern = "*_selection_data.csv")
file_list
all_data <- do.call(rbind, lapply(./data/file_list, read.csv))
# Load in data
file_list <- list.files(path = "./data/", pattern = "*_selection_data.csv")
file_list
length(file_list)
class(file_list)
names(file_list)
all_data <- do.call(rbind, lapply(file_list, read.csv))
# Load in data
sel_tbl <- list.files(path = "./data/",
pattern = "*_selection_data.csv") %>%
map_df(~read.csv(.))
# Exploratory graphics for selection data
library(tidyverse)
library(data.table)
# Load in data
sel_tbl <- list.files(path = "./data/",
pattern = "*_selection_data.csv") %>%
map_df(~read.csv(.))
# Load in data
sel_tbl <- list.files(path = "./data/",
pattern = "*_selection_data.csv") %>%
map_df(~read_csv(.))
# Load in data
sel_tbl <- list.files(path = "./data/",
pattern = "*_selection_data.csv") %>%
map_df(~read_csv(.))
# Load in data
sel_tbl <- list.files(path = "./data/",
pattern = "*_selection_data.csv",
full.names = T) %>%
map_df(~read_csv(.))
View(sel_tbl)
selection_dat <- data_frame(filename = files) %>% # create a data frame
# holding the file names
mutate(file_contents = map(filename,          # read files into
~ read_csv(file.path(data_path, .))) # a new data column
)
file_list <- list.files(path = "./data/",
pattern = "*_selection_data.csv",
full.names = T)
selection_dat <- data_frame(bacteria = file_list) %>% # create a data frame
# holding the file names
mutate(file_contents = map(bacteria,          # read files into
~ read_csv(file.path(data_path, .))) # a new data column
)
selection_dat <- data_frame(bacteria = file_list) %>% # create a data frame
# holding the file names
mutate(file_contents = map(bacteria,          # read files into
~ read_csv(.))) # a new data column
selection_dat <- data_frame(bacteria = file_list) %>% # create a data frame
# holding the file names
mutate(file_contents = map(bacteria,          # read files into
~ read_csv(.))) # a new data column
View(selection_dat)
selection_df <- unnest(selection_dat)
View(selection_df)
View(selection_df)
#change the file names to bacteria names
selection_df <- selection_df %>%
mutate_if(is.character, str_replace_all, pattern = '^\.\/data\/bass_selection_data\.csv', replacement = 'bass')
#change the file names to bacteria names
selection_df <- selection_df %>%
mutate_if(is.character, str_replace_all, pattern = '^./data/bass_selection_data.csv', replacement = 'bass')
View(selection_df)
selection_df <- selection_df %>%
mutate_if(is.character, str_replace_all, pattern = '^./data/ecoli_selection_data.csv', replacement = 'ecoli')
selection_df <- selection_df %>%
mutate_if(is.character, str_replace_all, pattern = '^./data/strep_selection_data.csv', replacement = 'strep')
selection_df <- selection_df %>%
mutate_if(is.character, str_replace_all, pattern = '^./data/sinoC_selection_data.csv', replacement = 'sinoC')
selection_df <- selection_df %>%
mutate_if(is.character, str_replace_all, pattern = '^./data/pSymA_selection_data.csv', replacement = 'pSymA')
selection_df <- selection_df %>%
mutate_if(is.character, str_replace_all, pattern = '^./data/pSymB_selection_data.csv', replacement = 'pSymB')
View(selection_df)
levels(selection_df$bacteria)
View(selection_df)
class(selection_df)
summarize(selection_df$bacteria)
summarize(selection_df)
View(selection_df)
